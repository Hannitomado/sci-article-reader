@import "tailwindcss";

/* =========================================================
   Ondu Option A: Phosphor Green + Warm Charcoal “Device”
   Explicit theming: default LIGHT, toggleable DARK
   ========================================================= */

:root {
  /* LIGHT MODE (default) */
  --background: #eef2e6;          /* warm paper */
  --foreground: #141512;

  --bg: #e7eddc;                  /* page background */
  --surface: #f6f8f0;             /* cards/panels */
  --surface-muted: #eef2e6;       /* subtle panels */

  --text-primary: #141512;
  --text-secondary: #4f544b;
  --text-tertiary: #6b7166;

  --accent: #7f9f84;              /* phosphor green (calm in light) */
  --accent-contrast: #141512;

  --border: #cfd7c6;
  --ring: rgba(127, 159, 132, 0.35);

  --danger: #b85a5a;
  --danger-ring: rgba(184, 90, 90, 0.30);
}

/* DARK THEME OVERRIDES */
html[data-theme="dark"] {
  --background: #151613;
  --foreground: #e6e8e1;

  --bg: #151613;
  --surface: #1e1f1c;
  --surface-muted: #1a1b18;

  --text-primary: #e6e8e1;
  --text-secondary: #a3a79a;
  --text-tertiary: #7a7f72;

  --accent: #8fae8f;              /* slightly brighter in dark */
  --accent-contrast: #151613;

  --border: #2a2b26;
  --ring: rgba(143, 174, 143, 0.28);

  --danger: #c85a5a;
  --danger-ring: rgba(200, 90, 90, 0.22);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-surface: var(--surface);
  --color-surface-muted: var(--surface-muted);
  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-accent: var(--accent);
  --color-accent-contrast: var(--accent-contrast);
  --color-border: var(--border);
  --color-ring: var(--ring);

  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* =========================
   Global background (calm)
   ========================= */
body {
  color: var(--text-primary);
  font-family: Arial, Helvetica, sans-serif;

  /* Light: desk glow. Dark: subdued phosphor haze.
     Both are driven by the same variables. */
  background:
    radial-gradient(900px 520px at 18% 10%, color-mix(in srgb, var(--accent) 14%, transparent), transparent 58%),
    radial-gradient(820px 520px at 82% 22%, rgba(20, 21, 18, 0.06), transparent 62%),
    linear-gradient(180deg, var(--bg), var(--background));
}

/* =========================
   Form controls (global)
   ========================= */

input,
textarea,
select {
  font: inherit;
  color: var(--text-primary);
  background: color-mix(in srgb, var(--surface) 94%, transparent);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 12px 12px;
  outline: none;
  box-shadow: none;
}

textarea {
  min-height: 160px;
  line-height: 1.6;
}

select {
  padding-right: 40px;
}

option {
  color: var(--text-primary);
  background: var(--surface);
}

input::placeholder,
textarea::placeholder {
  color: color-mix(in srgb, var(--text-secondary) 70%, transparent);
}

input:focus,
textarea:focus,
select:focus {
  border-color: color-mix(in srgb, var(--accent) 70%, var(--border) 30%);
  box-shadow: 0 0 0 4px var(--ring);
}

input:disabled,
textarea:disabled,
select:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* =========================
   Range inputs (“device”)
   ========================= */

input[type="range"] {
  height: 24px;
  background: transparent;
  padding: 0;
  border: none;
  box-shadow: none;
}

/* WebKit */
input[type="range"]::-webkit-slider-runnable-track {
  height: 6px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--text-primary) 14%, transparent);
  border: 1px solid color-mix(in srgb, var(--border) 80%, transparent);
}
input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  margin-top: -7px;
  width: 18px;
  height: 18px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--accent) 92%, white 8%);
  border: 1px solid color-mix(in srgb, var(--border) 55%, transparent);
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.18);
}

/* Firefox */
input[type="range"]::-moz-range-track {
  height: 6px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--text-primary) 14%, transparent);
  border: 1px solid color-mix(in srgb, var(--border) 80%, transparent);
}
input[type="range"]::-moz-range-thumb {
  width: 18px;
  height: 18px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--accent) 92%, white 8%);
  border: 1px solid color-mix(in srgb, var(--border) 55%, transparent);
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.18);
}

/* =========================
   Utilities
   ========================= */
@layer utilities {
  .ondu-surface-solid {
    background: color-mix(in srgb, var(--surface) 92%, transparent);
    border: 1px solid var(--border);
    border-radius: 24px;
    box-shadow: 0 14px 34px rgba(0, 0, 0, 0.12);
  }

  .ondu-surface-panel {
    background: color-mix(in srgb, var(--surface) 86%, transparent);
    border: 1px solid var(--border);
    border-radius: 24px;
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.10);
  }

  .ondu-icon-btn {
    display: inline-grid;
    place-items: center;
    border: 1px solid var(--border);
    border-radius: 18px;
    transition: transform 120ms ease, background 120ms ease, border-color 120ms ease;
    background: color-mix(in srgb, var(--surface) 40%, transparent);
  }

  .ondu-icon-btn:hover {
    background: color-mix(in srgb, var(--surface) 58%, transparent);
    border-color: color-mix(in srgb, var(--border) 70%, var(--accent) 30%);
  }

  .ondu-icon-btn:active {
    transform: translateY(1px);
  }

  .ondu-icon-btn--lg {
    width: 56px;
    height: 56px;
  }

  .ondu-icon-btn--md {
    width: 44px;
    height: 44px;
  }

  .ondu-reader {
    max-width: 70ch;
    margin-left: auto;
    margin-right: auto;
    font-size: 15.5px;
    line-height: 1.75;
    color: var(--text-primary);
  }

  .ondu-muted {
    color: var(--text-secondary);
  }

  /* LED status dots */
  .ondu-led {
    width: 10px;
    height: 10px;
    border-radius: 999px;
    border: 1px solid color-mix(in srgb, var(--text-primary) 18%, transparent);
    display: inline-block;
    background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.55), rgba(255, 255, 255, 0) 55%);
  }

  .ondu-led--notready {
    background-color: var(--danger);
    box-shadow:
      0 0 0 1px rgba(0, 0, 0, 0.10) inset,
      0 0 7px color-mix(in srgb, var(--danger) 60%, transparent),
      0 0 18px color-mix(in srgb, var(--danger) 34%, transparent);
  }

  .ondu-led--ready {
    background-color: #4fbf87;
    box-shadow:
      0 0 0 1px rgba(0, 0, 0, 0.10) inset,
      0 0 7px rgba(79, 191, 135, 0.55),
      0 0 18px rgba(79, 191, 135, 0.32);
  }
  .ondu-queue-item {
    background: color-mix(in srgb, var(--surface) 92%, transparent);
    border: 1px solid var(--border);
    border-radius: 16px;
  }

  .ondu-queue-item--active {
    background: color-mix(in srgb, var(--accent) 14%, var(--surface) 86%);
    border-color: color-mix(in srgb, var(--accent) 35%, var(--border) 65%);
  }

  html[data-theme="dark"] .ondu-queue-item--active {
    background: color-mix(in srgb, var(--accent) 16%, var(--surface) 84%);
    border-color: color-mix(in srgb, var(--accent) 38%, var(--border) 62%);
  }

}
